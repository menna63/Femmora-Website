<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shop</title>
  <link rel="stylesheet" href="/css/shop.css">
</head>
<body>

  <header>
    <div class="topnav">
      <form class="search-bar" method="get" action="/shop">
        <input type="text" name="search" placeholder="Search here..." value="<%= search || '' %>">
        <button type="submit"><img src="/photos/search.png" alt="search"></button>
      </form>
    </div>
    <h1>Welcome to Our Shopping Page!</h1>
  </header>

  <hr />

  <section class="Grid" id="productContainer">
    <% if (products && products.length > 0) { %>
      <% products.forEach(product => { %>
        <div class="product">
          <img src="<%= product.img %>" alt="<%= product.name %>" width="200" height="300"><br>
          <h3><%= product.name %></h3>
          <p>$<%= product.price.toFixed(2) %></p>
          <button onclick="addToCart('<%= product.id %>', '<%= product.name %>', '<%= product.price %>')">Add to Cart</button>
        </div>
      <% }); %>
    <% } else { %>
      <p>No products found.</p>
    <% } %>
  </section>

  <hr />

  <div class="cart-container">
    <a href="#" class="cart-link" onclick="showCartModal()">ðŸ›’ <span id="cart-count">0</span></a>
  </div>

  <div id="cartModal" class="cart-modal" style="display: none;">
    <h2>Your Cart</h2>
    <div id="cartItems"></div>
    <button id="checkoutBtn">Proceed to Checkout</button>
    <button id="closeCartBtn">Close</button>
  </div>

  <footer>
    <div class="pagination">
    <% for (let i = 1; i <= totalPages; i++) { %>
      <button onclick="changePage('<%- i %>')"><%= i %></button>
    <% } %>
  </div>
  </footer>

  <script src="/js/shop.js"></script>
</body>
</html> -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shop</title>
  <link rel="stylesheet" href="/public/StyleSheet1.css">
</head>
<body>

  <header>
    <div class="topnav">
      <form class="search-bar" method="get" action="/shop">
        <input type="text" name="search" placeholder="Search here..." value="<%= typeof search !== 'undefined' ? search : '' %>">
        <button type="submit"><img src="/photos/search.png" alt="search"></button>
      </form>
    </div>
    <h1>Welcome to Our Shopping Page!</h1>
  </header>

  <hr />

  <section class="Grid" id="productContainer">
    <% products.forEach(product => { %>
      <div class="product">
        <img src="<%= product.img %>" alt="<%= product.name %>" width="200" height="300"><br>
        <h3><%= product.name %></h3>
        <p>$<%= product.price.toFixed(2) %></p>
        <form method="POST" action="/Cart/add">
          <input type="hidden" name="id" value="<%= product.id %>">
          <input type="hidden" name="name" value="<%= product.name %>">
          <input type="hidden" name="price" value="<%= product.price %>">
          <input type="hidden" name="quantity" value="1">
          <button type="submit">Add to Cart</button>
        </form>
      </div>
    <% }) %>
  </section>

  <hr />

  <div class="cart-container">
    <a href="/Cart" class="cart-link">ðŸ›’ <span id="cart-count"><%= cartCount || 0 %></span></a>
  </div>

  <footer>
    <div class="pagination">
      <% for (let i = 1; i <= totalPages; i++) { %>
        <form method="get" action="/shop" style="display:inline;">
          <input type="hidden" name="page" value="<%= i %>">
          <button type="submit"><%= i %></button>
        </form>
      <% } %>
    </div>
  </footer>

  <script src="/public/Script1.js"></script>
</body>
</html>